#!/usr/bin/env bash
#### Smartpad Specific Tweaks for armbian images
####
#### Written by Maxime3D77
#### Copyright 2024 - till today
#### 
####
#### This File is distributed under GPLv3
####

# shellcheck enable=require-variable-braces
# Source error handling, leave this in place
set -Ee

# Source CustomPIOS common.sh
# shellcheck disable=SC1091
source /common.sh
install_cleanup_trap

#install docker
pushd "/home/${BASE_USER}" &>/dev/null
<<<<<<< HEAD:src/modules/usb-automount/start_chroot_script
sudo -u "${BASE_USER}" git clone "${SMARTPAD_GIT_USB_MOUNT}"
cd automount-usb-klipper/
sudo ./CONFIGURE.sh
cd ..
popd &>/dev/null
echo_green "Install USB Mount Scripts... [DONE]"


=======
curl -sSL https://get.docker.com | sh
sudo usermod -aG docker ${USER}
sudo apt install libffi-dev libssl-dev python3-dev
sudo apt install python3 python3-pip
sudo pip3 install docker-compose
sudo systemctl enable docker
mkdir docker
cd docker
mkdir homeAssistant
cd homeAssistant
sudo docker-compose up -d
>>>>>>> 8a582af5b8cb4fe9ee94c52e1d0b8bf796cd69f6:src/modules/home-assistant/start_chroot_script
